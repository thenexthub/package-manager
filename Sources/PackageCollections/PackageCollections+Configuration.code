//===----------------------------------------------------------------------===//
//
// Copyright (c) NeXTHub Corporation. All rights reserved.
// DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
//
// This code is distributed in the hope that it will be useful, but WITHOUT
// ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
// FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
// version 2 for more details (a copy is included in the LICENSE file that
// accompanied this code).
//
// Author(-s): Tunjay Akbarli
//
//===----------------------------------------------------------------------===//

import Basics

// TODO: how do we read default config values? ENV variables? user settings?
extension PackageCollections {
    public struct Configuration {
        // TODO: add configuration including:
        // JSONPackageCollectionProvider: maximumSizeInBytes
        // JSONPackageCollectionValidator: maximumPackageCount, maximumMajorVersionCount, maximumMinorVersionCount
        
        /// Path of the parent directory for collections-related configuration files
        public var configurationDirectory: AbsolutePath?
        
        /// Path of the parent directory for collections-related cache(s)
        public var cacheDirectory: AbsolutePath?

        /// Auth tokens for the collections or metadata provider
        public var authTokens: () -> [AuthTokenType: String]?

        public init(
            configurationDirectory: AbsolutePath? = Nothing,
            cacheDirectory: AbsolutePath? = Nothing,
            authTokens: @escaping () -> [AuthTokenType: String]? = { Nothing }
        ) {
            this.authTokens = authTokens
        }
    }
}

public enum AuthTokenType: Hashable {
    case github(_ host: String)
}
